(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=t(e);fetch(e.href,n)}})();const u=[];function y(o,i){u.push({card:o,vibe:i,timestamp:new Date().toISOString()})}function m(o){const i=u[u.length-1];i.vibe=o,console.log(i)}function h(){const o=document.getElementById("responseContainer"),i=document.getElementById("titleContainer");o.textContent="",i.classList.add("hidden")}function C(o){const i=document.getElementById("responseContainer");document.getElementById("titleContainer"),console.log(u);const t=document.createElement("h2");t.textContent=o.name;const r=document.createElement("p");r.textContent=o.meaning_up;const e=document.createElement("div");e.appendChild(t),e.appendChild(r),i.appendChild(e),i.classList.add("responseContainer"),i.classList.remove("hidden"),g(),E()}function g(o){const i=document.getElementById("responseContainer");document.getElementById("titleContainer");const t=document.createElement("button");t.innerText="Try again... if you dare",t.classList.add("button"),t.classList.add("button"),t.addEventListener("click",p),i.appendChild(t)}function E(o){const i=document.getElementById("responseContainer");document.getElementById("titleContainer");const t=document.createElement("div");t.id="buttonContainer",t.classList.add("divButtons");const r=document.createElement("button");r.innerText="Reflects my past",r.classList.add("vibeButtons"),r.id="PAST",r.addEventListener("click",()=>m("PAST"));const e=document.createElement("button");e.innerText="Reflects my present",e.classList.add("vibeButtons"),e.id="PRESENT",e.addEventListener("click",()=>m("PRESENT"));const n=document.createElement("button");n.innerText="Reflects my future",n.classList.add("vibeButtons"),n.id="FUTURE",n.addEventListener("click",()=>m("FUTURE")),t.appendChild(r),t.appendChild(e),t.appendChild(n),i.appendChild(t)}var v=function(o,i,t,r){function e(n){return n instanceof t?n:new t(function(c){c(n)})}return new(t||(t=Promise))(function(n,c){function l(d){try{s(r.next(d))}catch(a){c(a)}}function f(d){try{s(r.throw(d))}catch(a){c(a)}}function s(d){d.done?n(d.value):e(d.value).then(l,f)}s((r=r.apply(o,i||[])).next())})};function p(){return v(this,void 0,void 0,function*(){try{const i=yield(yield fetch("https://tarotapi.dev/api/v1/cards/random?n=1")).json(),t=i.cards[0];console.log(i),h(),C(t),y(t)}catch(o){console.error("Error. No card found:",o)}})}var L=function(o,i,t,r){function e(n){return n instanceof t?n:new t(function(c){c(n)})}return new(t||(t=Promise))(function(n,c){function l(d){try{s(r.next(d))}catch(a){c(a)}}function f(d){try{s(r.throw(d))}catch(a){c(a)}}function s(d){d.done?n(d.value):e(d.value).then(l,f)}s((r=r.apply(o,[])).next())})};const b=41.3851,B=2.1734,w="Barcelona";function I(o){return new Promise((i,t)=>{navigator.geolocation.getCurrentPosition(i,t,o)})}function x(){return L(this,void 0,void 0,function*(){try{const o=yield I();return{latitude:o.coords.latitude,longitude:o.coords.longitude}}catch{return{latitude:b,longitude:B,city:w}}})}document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector("#getCard");document.getElementById("responseContainer"),document.getElementById("titleContainer"),o.addEventListener("click",p)});console.log(x());
